{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named UserContextService, which provides methods to retrieve a pseudo-user ID stored in localStorage and to generate authentication headers with this ID. It is used for managing user context within the application, primarily for demo or development purposes.", "external_files": ["@angular/core"], "external_methods": ["crypto.randomUUID"], "published": ["UserContextService"], "classes": [{"name": "UserContextService", "description": "An Angular injectable service that manages user identification and authentication headers for HTTP requests."}], "methods": [{"name": "getUserId(): string { getUserId", "description": "Retrieves a stable pseudo-user ID from localStorage, generating and storing a new one if it does not exist, or fallback to a temporary ID if localStorage is unavailable.", "scope": "UserContextService", "scopeKind": "class"}, {"name": "getAuthHeaders(): { [k: string]: string } { getAuthHeaders", "description": "Returns HTTP headers containing the user ID, suitable for merging into API requests.", "scope": "UserContextService", "scopeKind": "class"}], "calls": ["globalThis.localStorage.getItem", "globalThis.localStorage.setItem", "crypto.randomUUID", "Math.random"], "search-terms": ["UserContextService", "localStorage", "pseudo-user ID", "authentication headers", "Angular service", "UUID generation"], "state": 2, "file_id": 33, "knowledge_revision": 83, "git_revision": "", "ctags": [{"_type": "tag", "name": "KEY", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^const KEY = 'furniture_user_id';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Math", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^      const generated = crypto.randomUUID?.() ?? Math.random().toString(36).slice(2);$/", "language": "TypeScript", "kind": "constant", "scope": "UserContextService.getUserId", "scopeKind": "method"}, {"_type": "tag", "name": "UserContextService", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^export class UserContextService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^      const existing = globalThis?.localStorage?.getItem(KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "UserContextService.getUserId", "scopeKind": "method"}, {"_type": "tag", "name": "generated", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^      const generated = crypto.randomUUID?.() ?? Math.random().toString(36).slice(2);$/", "language": "TypeScript", "kind": "constant", "scope": "UserContextService.getUserId", "scopeKind": "method"}, {"_type": "tag", "name": "getAuthHeaders", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^  getAuthHeaders(): { [k: string]: string } {$/", "language": "TypeScript", "kind": "method", "scope": "UserContextService", "scopeKind": "class"}, {"_type": "tag", "name": "getUserId", "path": "/home/kavia/workspace/code-generation/furniture-shop-217777-217787/furniture_frontend/src/app/services/user-context.service.ts", "pattern": "/^  getUserId(): string {$/", "language": "TypeScript", "kind": "method", "scope": "UserContextService", "scopeKind": "class"}], "hash": "c666c0dcc722bca3de1ba63e17d28b1c", "format-version": 4, "code-base-name": "furniture_frontend", "filename": "furniture_frontend/src/app/services/user-context.service.ts", "revision_history": [{"83": ""}]}